<html>
<head>
    <title>{{.title}}</title>
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
<div class="hero">
    <div class="form-box">
        <div class="button-box">
            <div id="btn"></div>
            <button type="button" class="toggle-btn" onclick="login()">Log In</button>
            <button type="button" class="toggle-btn1" onclick="register()">Register</button>
        </div>
        <form id="login" class="input-group" action="api/generate-token" method="POST">
            <label for="email">Email</label>
            <input type="email" id="email" class="input-field" name="email" placeholder="Enter Email" required>
            <label for="password">Password</label>
            <input type="password" id="password" class="input-field" name="password" placeholder="Enter Password" required>
            <button type="submit" class="submit-btn">Log In</button>
            <a href="#">Forgot password?</a><br>
        </form>
        <form id="register1" class = "input-group" onsubmit=registerFunc()>
            <label for="first_name1">First Name</label>
            <input type="text" id="first_name1" class="input-field" name="first_name" placeholder="Enter First Name" required>
            <label for="last_name1">Last Name</label>
            <input type="text" id="last_name1" class="input-field" name="last_name" placeholder="Enter Last Name" required>
            <label for="email1">Email</label>
            <input type="email" id="email1" class="input-field" name="email" placeholder="Enter Email" required>
            <label for="password1">Password</label>
            <input type="password" id="password1" class="input-field" name="password" placeholder="Enter Password" required>
            <input type="submit" class="submit-btn">Register</input>

        </form>
    </div>
</div>
<script>

    let x = document.getElementById("login");
    let y = document.getElementById("register1");
    let z = document.getElementById("btn");

    function register() {
        console.log("first")
        x.style.left = "-400px"
        y.style.left = "50px"
        z.style.left = "110px"
    }

    function login() {
        x.style.left = "50px"
        y.style.left = "450px"
        z.style.left = "0"
    }

    function registerFunc(){

        let data = {
            first_name: document.getElementById("first_name1").value,
            last_name: document.getElementById("last_name1").value,
            email: document.getElementById("email1").value,
            password: document.getElementById("password1").value,
        }
        console.log(JSON.stringify(data))
        console.log("first_name",data.first_name)
        let apiUrl = '/api/add-user';
        fetch(apiUrl, {

            method: 'POST', // *GET, POST, PUT, DELETE, etc.
            mode: 'cors', // no-cors, *cors, same-origin
            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
            credentials: 'same-origin', // include, *same-origin, omit
            body: JSON.stringify(data)
        }).then(response => {
            console.log("response",response)
            return response.json();
        }).then(data => {
            // Work with JSON data here

            console.log(data,"123");
        }).catch(err => {
            console.log(err)
            // Do something for an error here
        });
    }
</script>
</body>
</html>